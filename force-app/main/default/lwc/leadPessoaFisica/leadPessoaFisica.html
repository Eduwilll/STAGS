<template>
  <lightning-modal-header >
    <h2 class="slds-text-heading_medium">Novo Lead</h2>
  </lightning-modal-header>
    <lightning-modal-body > 
        <!-- accordion -->
        <lightning-accordion 
                            allow-multiple-sections-open
                            onsectiontoggle={handleToggleSection}
                            active-section-name={activeSections}
                            class="accordion-pessoa-fisica">
            <lightning-accordion-section name="info_pessoa" label="Informações do Lead pessoa física" class="my-style">
                <!-- Info Pessoas -->

                <lightning-layout
                  multiple-rows
                  pull-to-boundary="medium"
                  class="custom-columns"
                >  
                  <lightning-layout-item 
                    flexibility="auto" padding="horizontal-medium"
                    class="slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2"
                  >
                 
                    <lightning-combobox
                    name="tratamento"
                    label="Tratamento"
                    value={value}
                    data-element="subscribe-checkbox"
                    placeholder=""
                    options={options}
                    onchange={handleChange} 
                    ></lightning-combobox>

                    <lightning-input 
                    type="text"
                    label="Primeiro nome" required
                    message-when-value-missing="Preencha este campo"
                    name="name"
                    data-element="required"
                    onchange={handleChange} 
                    ></lightning-input>

                    <lightning-input 
                    type="text"
                    label="Sobrenome" required
                    message-when-value-missing="Preencha este campo"
                    name="sobrenome"
                    data-element="required"

                    onchange={handleChange} 
                    ></lightning-input>

                    <lightning-input 
                    type="text"
                    label="CPF" required
                    message-when-value-missing="Preencha este campo"
                    message-when-pattern-mismatch="O CPF deve estar no formato 12345678901"
                    pattern="\d{11}"
                    max-length="11"
                    formatter="decimal"
                    title="O CPF deve estar no formato ser apenas numeros"
                    name="cpf"
                    data-element="required"
                    onchange={handleChange} 
                    ></lightning-input>
                  </lightning-layout-item>
                  <!-- left -->
                  <lightning-layout-item 
                  flexibility="auto" padding="horizontal-medium"
                  class="slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2">
                  <lightning-combobox
                    name="origemLead"
                    label="Origem do Lead"
                    value={selectedLead}
                    placeholder=""
                    options={optionsLead}
                    onchange={handleChange} >
                  </lightning-combobox>

                    <lightning-input 
                    type="email" 
                    name="email"
                    label="E-mail" required
                    data-element="required"
                    message-when-value-missing="Preencha este campo"
                    onchange={handleChange} 

                    ></lightning-input>

                    <lightning-input 
                    type="tel" 
                    label="Telefone" required
                    message-when-value-missing="Preencha este campo"
                    message-when-pattern-mismatch="O Telefone deve estar no formato 19999999999"
                    pattern="\d{11}"
                    max-length="11"
                    formatter="decimal"
                    name="phone" 
                    data-element="required"
                    value={phone}
                    onchange={handleChange} 
                    ></lightning-input>
                    
                    <!-- ATENCAO DA UM JEITO NISSO -->
                    <label class="slds-m-bottom_medium">Não chamar</label>

                    <div class="container">
                        <input 
                            type="checkbox" 
                            checked={isChecked} 
                            onchange={handleChangeCheck} />
                    </div>
                  </lightning-layout-item>
                </lightning-layout>
                
                
                <!--/Info Pessoas -->
            </lightning-accordion-section>
            <lightning-accordion-section name="info_servicos" label="Informações de serviço">
              
              <c-novo-lead-servicos onchild={handleChildInfoServicos}></c-novo-lead-servicos>

            </lightning-accordion-section>
            <lightning-accordion-section name="info_address" label="Informações de endereço">
              <c-novo-lead-endereco onequipamentos={handleChildInfoEndereco}></c-novo-lead-endereco>
            </lightning-accordion-section>

        </lightning-accordion>
        <!-- /accordion -->
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button class="slds-button" variant="neutral" label="Cancelar" onclick={closeModal} ></lightning-button>
        <lightning-button class="slds-button" variant='brand' label="Salvar" onclick={handleSalvar}></lightning-button>
    </lightning-modal-footer>
</template>